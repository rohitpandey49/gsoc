<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://fossology.github.io/gsoc/blog</id>
    <title>GSoC projects at FOSSology Blog</title>
    <updated>2021-06-23T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://fossology.github.io/gsoc/blog"/>
    <subtitle>GSoC projects at FOSSology Blog</subtitle>
    <icon>https://fossology.github.io/gsoc/img/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[New build system - Week 3]]></title>
        <id>/cmake-cweek3</id>
        <link href="https://fossology.github.io/gsoc/blog/cmake-cweek3"/>
        <updated>2021-06-23T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[<!--]]></summary>
        <content type="html"><![CDATA[<h1>Coding Week 3 Meeting</h1><h3 class="anchor anchorWithStickyNavbar_LWe7" id="attendees">Attendees<a class="hash-link" href="#attendees" title="Direct link to heading">​</a></h3><ul><li>Michael C. Jaeger <a href="https://github.com/mcjaeger" target="_blank" rel="noopener noreferrer">https://github.com/mcjaeger</a></li><li>Gaurav Mishra <a href="https://github.com/GMishx" target="_blank" rel="noopener noreferrer">https://github.com/GMishx</a></li><li>Sarita Singh <a href="https://github.com/itssingh" target="_blank" rel="noopener noreferrer">https://github.com/itssingh</a></li><li>Avinal Kumar <a href="https://github.com/avinal" target="_blank" rel="noopener noreferrer">https://github.com/avinal</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="week-2-progress">Week 2 Progress<a class="hash-link" href="#week-2-progress" title="Direct link to heading">​</a></h3><ol><li>Version file Implementation</li><li>Initial functions on obtaining commit and branch info</li><li>To test the current progress, follow the instructions <a href="https://github.com/avinal/FOSSology/wiki#test-the-new-system-only-gcc-with-make-and-ninja-tested-for-now" target="_blank" rel="noopener noreferrer">here</a></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="discussions">Discussions<a class="hash-link" href="#discussions" title="Direct link to heading">​</a></h3><ul><li><p><strong>What is the regex expression used for obtaining version information?</strong></p><ul><li>The regex has recently been modified to cover recent versions. The latest form is as below:<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">digit</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">+</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">digit</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">+</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">digit</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">+</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">?</span><span class="token plain">rc</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">digit</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">+</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">digit</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">alnum</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">*</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>You can also try alternatives to regex if possible for CMake.</li></ul></li><li><p><strong>Should I use</strong> <code>git describe --tags</code> <strong>or</strong> <code>git describe --always HEAD</code> <strong>for obtaining version information?</strong></p><ul><li>In FOSSology we always use :code:<code>git describe --tags</code>, no exception whatsoever.</li></ul></li><li><p>CMake provides a preset configuration for the install path on GNU systems, you can see the description <a href="https://cmake.org/cmake/help/v3.10/module/GNUInstallDirs.html" target="_blank" rel="noopener noreferrer">here</a> based on the <a href="https://www.gnu.org/prep/standards/html_node/Directory-Variables.html" target="_blank" rel="noopener noreferrer">configuration</a> suggested by the GNU. After comparing the variables defined in Makefile.conf with these, it seems directly taken from GNU standards.
So I wanted to ask if this would be okay to stick to the presets, instead of manually declaring the same paths? The former step will reduce the number of variables we are currently caching and will make it flexible for different installation scenarios.</p><ul><li>Using the GNU standards is the ideal situation but FOSSology uses slightly different locations. For example, all agents end up under <code>/usr/local/share/fossology/</code> with their individual folders instead of going to <code>/usr/local/bin/</code>.</li><li>If the same results can be achieved by using the <code>CMAKE_INSTALL_&lt;dir&gt;</code> and <code>CMAKE_INSTALL_PREFIX</code> then yeah, it will be preferred.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-and-further-plans">Conclusion and Further Plans<a class="hash-link" href="#conclusion-and-further-plans" title="Direct link to heading">​</a></h3><ul><li>Try adding the version and commit hash info.</li><li>Implement writing version files for each build.</li></ul>]]></content>
        <author>
            <name>Avinal</name>
            <uri>https://github.com/avinal/</uri>
        </author>
        <category label="coding-week" term="coding-week"/>
        <category label="cmake" term="cmake"/>
    </entry>
</feed>